<!DOCTYPE html>
<html lang="en" th:replace="~{fragments/adminlayout :: adminlayout (~{::body},'viewProgram')}"> 
<head>
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <link rel="icon" href="#"> 
    <title>View Program</title> 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet"> <!-- Added Bootstrap Icons CSS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

</head>
<body>

        <div class="container-fluid" style="margin-left: 230px; padding-top: 66px;">
            <div class="row" style="height: 100%;">
                <div class="col-9">
                    <h3>
                        View Program
                        <a th:href="@{/addProgram}">
                            <i class="bi bi-plus-circle-fill" style="vertical-align: middle; margin-left: 60%;"></i> Add Program
                        </a>
                    </h3>

                    <div class="offset-2 justify-content-evenly align-items-center col-9"></div>
                        <table class="table table-bordered border-dark image-table">
                          <thead>
                            <tr>
                              <!-- <th scope="col">Program ID</th> -->
                              <th scope="col">Program Image</th>
                              <th scope="col">Program  Name</th>
                              <th scope="col">Program  Description</th>
                              <th scope="col">Program Venue</th>
                              <th scope="col">Program Time</th>
                              <th scope="col">Program Date</th>
                              <th scope="col">Action</th>
                            </tr>
                          </thead>

                          <tbody>
                            
                            <tr th:each="program: ${programs}">
                                <!-- <td th:text="${program.pid}"></td> -->
                                <td><img th:src="${program.imageSrc}" alt="Program Image" style="width: 250px; height: 150px;margin-top:10px"></td>
                                <td th:text="${program.pname}"></td>
                                <td th:text="${program.pdesc}"></td>
                                <td th:text="${program.pvenue}"></td>
                                <td th:text="${program.ptime}"></td>
                                <td th:text="${program.pdate}"></td>
                                <td
                                >
                                
                                <div class="btn-group" role="group" aria-label="Action buttons">
                                  <a th:href="@{'/updateProgram?programid=' + ${program.pid}}" class="btn btn-primary">Update</a>
                                  <button th:if="${role} == 'Super Admin' " type="button" class="btn btn-danger" data-bs-toggle="modal" th:data-bs-target="'#exampleModal-' + ${program.pid}">Delete</button>
                                </div>
                              
    
                                </td>

                                <form action="/deleteProgram" method="post">
                                    <input type="hidden" th:value="${program.pid}" name="pid" />
                                    <div
                                      class="modal fade"
                                      th:id="'exampleModal-' + ${program.pid}"
                                      tabindex="-1"
                                      role="dialog"
                                      aria-labelledby="deleteModalLabel"
                                      aria-hidden="true"
                                    >
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <h5 class="modal-title" id="deleteModalLabel">
                                              Delete Program
                                            </h5>
                                          </div>
                                          <div class="modal-body">
                                            <p>Are you sure you want to delete this program?</p>
                                          </div>
                                          <div class="modal-footer">
                                            <button
                                              type="button"
                                              class="btn btn-secondary"
                                              data-bs-dismiss="modal"
                                            >
                                              Cancel
                                            </button>
                                            <button
                                              id="deleteButton"
                                              class="btn btn-danger"
                                              type="submit"
                                            >
                                              Delete
                                            </button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </form>


                            </tr>  
                    

                          </tbody>  
                        </table>  

                </div>
            </div>
        </div>

        <!-- <script>
            function hideDeleteButton(adminrole) {
                if (role === 'Normal Admin') {
                    var deleteButtons = document.getElementsByClassName('delete-button');
                    for (var i = 0; i < deleteButtons.length; i++) {
                        deleteButtons[i].style.display = 'none';
                    }
                }
            }
        </script> -->
  
<script th:src="@{https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js}"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js}"
    integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
    crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js}"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  </body>
</html>
